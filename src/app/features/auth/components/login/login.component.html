<div class="login-container">
    <div class="login-card-wrapper">
        <p-card>
            <ng-template pTemplate="header">
                <div class="login-header">
                    <div class="logo-container">
                        <img src="assets/images/network-security.png" alt="IBIS Logo" class="logo-image" />
                    </div>
                    <h1 class="text-4xl font-bold text-white mt-4">IBIS</h1>
                    <p class="text-sm text-gray-200 mt-2">Integrated Bonded Inventory System</p>
                </div>
            </ng-template>

            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                <div class="form-field">
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <input id="email" type="email" pInputText formControlName="email" placeholder="Enter your email"
                        class="w-full"
                        [class.ng-invalid]="hasError('email', 'required') || hasError('email', 'email')" />
                    @if (hasError('email', 'required')) {
                    <small class="text-red-600">Email is required</small>
                    }
                    @if (hasError('email', 'email')) {
                    <small class="text-red-600">Please enter a valid email</small>
                    }
                </div>

                <div class="form-field">
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                    <p-password id="password" formControlName="password" placeholder="Enter your password"
                        [toggleMask]="true" [feedback]="false" styleClass="w-full" inputStyleClass="w-full"
                        [class.ng-invalid]="hasError('password', 'required') || hasError('password', 'minlength')" />
                    @if (hasError('password', 'required')) {
                    <small class="text-red-600">Password is required</small>
                    }
                    @if (hasError('password', 'minlength')) {
                    <small class="text-red-600">Password must be at least 6 characters</small>
                    }
                </div>

                <div class="form-field flex gap-2">
                    <p-checkbox formControlName="rememberMe" [binary]="true" inputId="rememberMe" label="Remember me" />
                    <label for="rememberMe" class="ml-2 text-sm text-gray-500"> Remember me </label>
                </div>

                <div class="form-field mb-4">
                    <p-button type="submit" label="Login" [loading]="loading()" styleClass="w-full" severity="info" />
                </div>
            </form>

            <ng-template pTemplate="footer">
                @if (showDemoCredentials()) {
                <div class="demo-credentials">
                    <p class="text-sm font-medium text-gray-700 mb-3">Demo Credentials:</p>
                    <div class="demo-buttons">
                        <p-button label="Admin" (onClick)="useDemoCredentials('admin')" severity="secondary"
                            size="small" [outlined]="true" />
                        <p-button label="Warehouse" (onClick)="useDemoCredentials('warehouse')" severity="secondary"
                            size="small" [outlined]="true" />
                        <p-button label="Production" (onClick)="useDemoCredentials('production')" severity="secondary"
                            size="small" [outlined]="true" />
                        <p-button label="Audit" (onClick)="useDemoCredentials('audit')" severity="secondary"
                            size="small" [outlined]="true" />
                    </div>
                </div>
                }
            </ng-template>
        </p-card>
    </div>
</div>